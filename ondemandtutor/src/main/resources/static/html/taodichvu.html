<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assets/css/header.css">
    <link rel="stylesheet" href="../assets/css/footer.css">
    <link rel="stylesheet" href="../assets/css/taodichvu.css">
    <title>Chỉnh sửa chi tiết dịch vụ</title>
</head>

<body>
    <div class="main">
        <header class="header">
            <!--test-->
            <div class="logo-container">
                <a class="img-logo" href="../html/home.html">
                    <!-- <img class="logo" src="../assets/img/logo/snapedit_17228353747082.png" alt=""> -->
                    <p class="text">LEARN TOgetHER</p>  </a>
            </div>

            <div class="navbar-container">

                <a class="nav-box" href="../html/gioithieu.html">GIỚI THIỆU</a>

                <a class="nav-box" href="./tutor.html">GIA SƯ

                </a>


                <a class="nav-box" href="./dichvulist.html">DỊCH VỤ

                </a>
                <a class="nav-box hidden" href="./taodichvu.html">TẠO DỊCH VỤ

                </a>
            </div>
            <div class="login-search-container">
                <div class="message-container" id="messageContainer">
                    <a href="messages.html" class="message-link">
                        <i class="message-icon fa-regular fa-message"></i>
                        <span class="message-count" id="messageCount">0</span>
                    </a>
                </div>

                <div class="login-container">
                    <a href="modal.html" class="search-link">
                        <button id="loginButton" class="login-button">Đăng nhập</button>
                    </a>
                    <div class="user-info" id="userInfo">
                        <span id="usernameDisplay"></span>
                        <img id="avatar" src="https://th.bing.com/th/id/OIP.MaDrjtmPQGzKiLHrHEPfFAHaHa?w=199&h=199&c=7&r=0&o=5&pid=1.7" alt="Avatar" class="avatar">
                        <div id="userDropdown" class="user-dropdown">
                            <a href="editprofile.html" class="sub-menu-link">
                                <img src="../assets/img/header/profile.png" alt="">
                                <p>Thông tin cá nhân</p>
                                <i class="fa-solid fa-chevron-right"></i>
                            </a>
                            <a href="#" id="logoutButton" class="sub-menu-link">
                                <img src="../assets/img/header/logout.png" alt="">
                                <p>Đăng xuất</p>
                                <i class="fa-solid fa-chevron-right"></i>
                            </a>

                        </div>
                    </div>
                </div>
            </div>

        </header>

        <div class="container">
            <h1>Chỉnh sửa chi tiết dịch vụ</h1>
            <form id="editForm" class="editform">

            <div class="form-container">
            
                   <!-- Chỉnh sửa hình ảnh -->
                   <label for="image">Hình ảnh:</label>
                   <input class="img" type="file" id="image">
                <!-- Chỉnh sửa tên dịch vụ -->
             
               
                <!-- Chỉnh sửa thời gian giảng dạy -->
              
              
                <label for="chonmon">Chọn môn học:</label>
                <select class="time-select" id="chonmon">
                    <option value="Toán">Toán</option>
                    <option value="Văn">Văn</option>
                    <option value="Anh">Anh</option>
                </select>

                <!-- Chỉnh sửa video
                <label for="videoUrl">Video URL:</label>
                <input type="text" id="videoUrl" value="https://www.youtube.com/embed/d7mRI7RKTLc"> -->

                <!-- Chỉnh sửa giá khóa học -->
                <label for="price">Giá khóa học:</label>
                <input type="text" id="price" value="">
                
                <!-- Chỉnh sửa mô tả dịch vụ -->
                <label for="description">Mô tả:</label>
                <textarea id="description" rows="6"></textarea>
               
                <!-- <button type="submit">Lưu thay đổi</button> -->

        </div>
       
            <div id="edit-schedule-container" class="content-container">
                
             
                    <table id="scheduleTable">
                        <thead>
                            <tr>
                                <th>Ngày</th>
                                <th>Thời gian</th>
                                <th>Thêm thời Gian</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Tạo hàng cho từng ngày trong tuần -->
                            <tr data-day="Sun">
                                <td>Sunday</td>
                                <td class="times">
                                    <div class="time-list"></div>
                                </td>
                                <td class="add-times">
                                    <select class="time-select">
                                        <option value="Sáng">Sáng</option>
                                        <option value="Chiều">Chiều</option>
                                        <option value="Tối">Tối</option>
                                    </select>
                                    <button type="button" class="add-time-btn">Add</button>
                                </td>
                            </tr>
                            <tr data-day="Mon">
                                <td>Monday</td>
                                <td class="times">
                                    <div class="time-list"></div>
                                </td>
                                <td class="add-times">
                                    <select class="time-select">
                                        <option value="Sáng">Sáng</option>
                                        <option value="Chiều">Chiều</option>
                                        <option value="Tối">Tối</option>
                                    </select>
                                    <button type="button" class="add-time-btn">Add</button>
                                </td>
                            </tr>
                            <tr data-day="Tue">
                                <td>Tuesday</td>
                                <td class="times">
                                    <div class="time-list"></div>
                                </td>
                                <td class="add-times">
                                    <select class="time-select">
                                        <option value="Sáng">Sáng</option>
                                        <option value="Chiều">Chiều</option>
                                        <option value="Tối">Tối</option>
                                    </select>
                                    <button type="button" class="add-time-btn">Add</button>
                                </td>
                            </tr>
                            <tr data-day="Wed">
                                <td>Wednesday</td>
                                <td class="times">
                                    <div class="time-list"></div>
                                </td>
                                <td class="add-times">
                                    <select class="time-select">
                                        <option value="Sáng">Sáng</option>
                                        <option value="Chiều">Chiều</option>
                                        <option value="Tối">Tối</option>
                                    </select>
                                    <button type="button" class="add-time-btn">Add</button>
                                </td>
                            </tr>
                            <tr data-day="Thu">
                                <td>Thursday</td>
                                <td class="times">
                                    <div class="time-list"></div>
                                </td>
                                <td class="add-times">
                                    <select class="time-select">
                                        <option value="Sáng">Sáng</option>
                                        <option value="Chiều">Chiều</option>
                                        <option value="Tối">Tối</option>
                                    </select>
                                    <button type="button" class="add-time-btn">Add</button>
                                </td>
                            </tr>
                            <tr data-day="Fri">
                                <td>Friday</td>
                                <td class="times">
                                    <div class="time-list"></div>
                                </td>
                                <td class="add-times">
                                    <select class="time-select">
                                        <option value="Sáng">Sáng</option>
                                        <option value="Chiều">Chiều</option>
                                        <option value="Tối">Tối</option>
                                    </select>
                                    <button type="button" class="add-time-btn">Add</button>
                                </td>
                            </tr>
                            <tr data-day="Sat">
                                <td>Saturday</td>
                                <td class="times">
                                    <div class="time-list"></div>
                                </td>
                                <td class="add-times">
                                    <select class="time-select">
                                        <option value="Sáng">Sáng</option>
                                        <option value="Chiều">Chiều</option>
                                        <option value="Tối">Tối</option>
                                    </select>
                                    <button type="button" class="add-time-btn">Add</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
               

                
            </div>
        
      
         <button id="saveButton" type="submit">Lưu Những Thay Đổi</button>
        </form>
        </div>

        <footer>
            <link rel="stylesheet" href="../assets/css/footer.css">
            <link rel="stylesheet" href="../assets/fonts/fontawesome-free-6.5.2-web/css/all.min.css">
            <div class="footer-container">
                <div class="socials">
                    <a href=""><i class="fa-brands fa-facebook"></i></a>
                    <a href=""><i class="fa-brands fa-instagram"></i></a>
                    <a href=""><i class="fa-brands fa-twitter"></i></a>
                    <a href=""><i class="fa-brands fa-google-plus"></i></a>
                    <a href=""><i class="fa-brands fa-youtube"></i></a>
                </div>
                <div class="footer-nav">
                    <ul>
                        <li><a href="">Home</a></li>
                        <li><a href="">About</a></li>
                        <li><a href="">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Copyright &copy;2024; Designed by <span class="designer">DL</span></p>
            </div>
        </footer>
    </div>




    <script>
        document.querySelectorAll('.add-time-btn').forEach(button => {
            button.addEventListener('click', function() {
                const row = this.closest('tr'); // Lấy hàng hiện tại
                const selectElement = row.querySelector('.time-select'); // Lấy phần tử select
                const selectedTime = selectElement.value; // Lấy giá trị thời gian đã chọn
                const timeList = row.querySelector('.time-list'); // Lấy div chứa danh sách thời gian

                // Kiểm tra xem thời gian đã có trong danh sách chưa
                const existingTime = Array.from(timeList.children)
                    .some(item => item.textContent.includes(selectedTime));

                if (existingTime) {
                    // Nếu thời gian đã có, xóa nó khỏi danh sách và cập nhật giá trị false
                    Array.from(timeList.children).forEach(item => {
                        if (item.textContent.includes(selectedTime)) {
                            timeList.removeChild(item);
                        }
                    });
                    console.log(`Time slot '${selectedTime}' removed. Result: false`);
                } else {
                    // Nếu thời gian chưa có, thêm nó vào danh sách và cập nhật giá trị true
                    const newTimeDiv = document.createElement('div'); // Tạo thẻ div mới
                    newTimeDiv.className = 'time-slot'; // Đặt class cho thẻ mới
                    newTimeDiv.textContent = selectedTime; // Gán nội dung là thời gian đã chọn

                    // Tạo nút xóa và thêm vào thẻ div thời gian
                    const removeBtn = document.createElement('button');
                    removeBtn.textContent = 'X'; // Nội dung nút xóa
                    removeBtn.classList.add('remove-time-btn');
                    newTimeDiv.appendChild(removeBtn); // Thêm nút xóa vào thẻ div thời gian

                    timeList.appendChild(newTimeDiv); // Thêm thẻ div mới vào danh sách
                    console.log(`Time slot '${selectedTime}' added. Result: true`);

                    // Thêm sự kiện click cho nút xóa
                    removeBtn.addEventListener('click', function() {
                        timeList.removeChild(newTimeDiv); // Xóa thẻ div thời gian khỏi danh sách
                        console.log(`Time slot '${selectedTime}' removed. Result: false`);
                    });
                }

                // Cập nhật các thời gian còn lại
                updateOtherTimes(row, selectedTime);
            });
        });

        function updateOtherTimes(currentRow, selectedTime) {
            // Lấy tất cả các hàng trong bảng
            document.querySelectorAll('#scheduleTable tbody tr').forEach(row => {
                if (row !== currentRow) { // Bỏ qua hàng hiện tại
                    const timeListDiv = row.querySelector('.time-list');
                    const timeItems = Array.from(timeListDiv.children);

                    timeItems.forEach(item => {
                        if (item.textContent.includes(selectedTime)) {
                            item.textContent = `${selectedTime} - false`;
                        }
                    });
                }
            });
        }
    </script>



<!--    <script src="../js/edit_schedule.js"></script>-->
    <script src="../js/header.js"></script>
</body>

</html>
